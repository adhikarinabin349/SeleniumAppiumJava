name: CI

on: [push, pull_request]

jobs:
    build:
        runs-on: ubuntu-latest

        steps:
        - name: Checkout repository
            uses: actions/checkout@v2

        - name: Set up JDK 11
            uses: actions/setup-java@v2
            with:
                java-version: '11'

        - name: Install Maven
            run: sudo apt-get install -y maven

        - name: Install Node.js
            uses: actions/setup-node@v2
            with:
                node-version: '14'

        - name: Install Appium
            run: npm install -g appium

        - name: Run tests
            run: mvn test